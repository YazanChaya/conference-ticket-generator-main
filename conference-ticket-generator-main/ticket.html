<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./assets/images/favicon-32x32.png"
    />
    <link rel="stylesheet" href="/css/reset.css" />
    <link rel="stylesheet" href="/css/master.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <title>Conference ticket generator</title>
  </head>

  <body>
    <div class="page-wrapper">
      <!-- Main Content -->
      <main>
        <!-- Background Patterns -->
        <section class="background-patterns">
          <img
            src="./assets/images/pattern-squiggly-line-bottom.svg"
            alt="Decorative pattern at the bottom"
            class="pattern-line-bottom"
          />
          <img
            src="./assets/images/pattern-squiggly-line-top.svg"
            alt="Decorative pattern at the top"
            class="pattern-line-top"
          />
          <img
            src="./assets/images/pattern-circle.svg"
            alt="Decorative circle pattern"
            class="pattern-circle pattern-circle--top-left"
          />
          <img
            src="./assets/images/pattern-circle.svg"
            alt="Decorative circle pattern"
            class="pattern-circle pattern-circle--bottom-right"
          />
        </section>

        <!-- Content Section -->
        <div class="content-container">
          <img
            src="./assets/images/logo-full.svg"
            alt="Coding Conf 2025 logo"
            class="logo"
          />

          <!-- Header Section -->
          <header class="header">
            <h1 class="content-title">
              Congrats, <span class="username">Guest</span>! <br />
              Your ticket is ready.
            </h1>

            <p class="content-subtitle">
              We've emailed your ticket to <br />
              <span class="ticket-email">yazan.chaya73@gmail.com</span> and will
              send updates <br />
              in the run up to the event.
            </p>
          </header>

          <!-- Ticket Section -->
          <section class="ticket-container">
            <div class="ticket">
              <div class="ticket-background">
                <img
                  src="./assets/images/pattern-ticket.svg"
                  alt=""
                  srcset=""
                />
              </div>
              <div class="ticket-body">
                <div class="ticket-content">
                  <div class="ticket-header">
                    <img src="./assets/images/logo-mark.svg" alt="Logo mark" />
                    <div>
                      <div>Coding Conf</div>
                      <div class="date"><small>12/06/2025</small></div>
                    </div>
                  </div>

                  <div class="user-info">
                    <img
                      src="./assets/images/image-avatar.jpg"
                      alt="User Avatar"
                      id="avatar"
                    />
                    <div class="user-data">
                      <div class="username">Guest</div>
                      <div class="github">
                        <img
                          src="./assets/images/icon-github.svg"
                          alt="GitHub icon"
                        />
                        <div class="usergithub">github.com/unknown</div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="ticket-id">#15602</div>
              </div>
            </div>
          </section>
        </div>
      </main>
    </div>

    <script>
      const usernameElements = document.querySelectorAll(".username");
      const githubElement = document.querySelector(".usergithub");
      const emailElement = document.querySelector(".ticket-email");
      const avatarElement = document.querySelector("#avatar");
      const dateElement = document.querySelector(".date small");

      const username = localStorage.getItem("fullName") || "Guest";
      const useremail =
        localStorage.getItem("email") || "yazan.chaya73@gmail.com";
      const github = localStorage.getItem("github") || "github.com/unknown";
      const avatar = localStorage.getItem("avatar");

      const formattedDate = new Date().toLocaleDateString("en-US", {
        month: "long",
        day: "2-digit",
        year: "numeric",
      });

      usernameElements.forEach((el) => (el.textContent = username));
      emailElement.textContent = useremail;
      githubElement.textContent = github;
      dateElement.textContent = formattedDate;

      // Set avatar image src
      if (avatar) {
        avatarElement.src = avatar;
      } else {
        avatarElement.src = "default-avatar.png"; // Fallback if no avatar is uploaded
      }
    </script>
  </body>
</html>
